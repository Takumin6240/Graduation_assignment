\#\# プロジェクト概要  
小学生向けScratch学習支援システム（大学卒業研究成果物）

\#\#\# 目的  
\- 小学生が段階的にプログラミングを学習できるシステムの提供  
\- 4つの問題形式による体系的なプログラミング教育の実現  
「考えさせる」ことを促す、問題形式  
穴埋め式問題： プログラムの一部を推察させる  
予測問題： コードの実行結果を予測させる  
間違い探し問題： プログラムの誤りを修正させる  
ミッション型問題： 知識を応用して創造させる  

\#\#\#\# 1\. \*\*基盤システム \*\*　(優先度: 高)  
\- Docker環境構築  
\- PostgreSQLデータベース設定  
\- Node.js/Expressバックエンド基盤  
\- React 18 \+ TypeScript フロントエンド基盤  
\- JWT認証システム  
\- ルーティング設定

\#\#\#\# 2\. \*\*認証・ユーザー管理\*\*　(優先度: 中)  
\- ユーザー登録（学生）  
\- ログイン/ログアウト  
\- 管理者ログイン  
\- JWT トークン管理  
\- パスワードハッシュ化（bcrypt）  
\- 認証ミドルウェア  
\- パスワード再設定機能

\#\#\#\# 3\. \*\*基本UI/UXコンポーネント\*\*　(優先度: 高)  
\- ホームページ  
\- ヘッダー/フッター  
\- ナビゲーション  
\- レスポンシブデザイン（Tailwind CSS）  
\- ローディング表示  
\- エラーハンドリング

\#\#\#\# 4\. \*\*問題管理システム\*\*　(優先度: 高)  
\- 4種類の問題形式定義:  
  \- 穴埋め問題 (fill\_blank)  
  \- 予測問題 (predict)  
  \- バグ発見問題 (find\_error)  
  \- ミッション問題 (mission)  
\- Chapter 1の問題データ（8問）  
\- 問題表示コンポーネント  
\- ヒント表示機能（吹き出しUI）

\#\#\#\# 5\. \*\*\*Scratchエディタ統合\*\*\*　(優先度: 高)  
[https://scratch.mit.edu/](https://scratch.mit.edu/) を別ウィンドで立ち上げて、問題の回答となるコーディングを行い、完成したら.bs3ファイルをダウンロードし、このwebシステムにアップロードし採点するロジックにする。

\#\#\#\# 6\. \*\*管理者機能\*\*  
\- 管理者ダッシュボード  
\- ユーザー統計表示  
\- 学習分析機能  
\- レポート生成

\#\# 🗄️ データベース構造(必要に応じて変更可)

\#\#\# テーブル一覧と用途

\#\#\#\# 1\. \*\*users\*\* \- 学生ユーザー情報  
\`\`\`sql  
\- id: プライマリキー  
\- username: ログインID（ユニーク）  
\- password\_hash: パスワード（暗号化）  
\- nickname: 表示名  
\- level: 現在のレベル（デフォルト: 1）  
\- exp: 経験値（デフォルト: 0）  
\- grade: 学年（1-6年生）  
\- created\_at/updated\_at: タイムスタンプ  
\`\`\`

\#\#\#\# 2\. \*\*admins\*\* \- 管理者情報  
\`\`\`sql  
\- id: プライマリキー  
\- admin\_username: 管理者ID（ユニーク）  
\- password\_hash: パスワード（暗号化）  
\- created\_at/updated\_at: タイムスタンプ  
\`\`\`

\#\#\#\# 3\. \*\*chapters\*\* \- 学習章管理  
\`\`\`sql  
\- id: プライマリキー  
\- title: 章タイトル  
\- description: 章の説明  
\- order\_number: 表示順序  
\- created\_at/updated\_at: タイムスタンプ  
\`\`\`

\#\#\#\# 4\. \*\*problems\*\* \- 問題詳細  
\`\`\`sql  
\- id: プライマリキー  
\- chapter\_id: 所属章（外部キー）  
\- problem\_type: 問題種別（ENUM）  
\- title: 問題タイトル  
\- description: 問題文  
\- initial\_sb3\_data: 初期Scratchデータ（JSON）  
\- correct\_sb3\_data: 正解データ（JSON）  
\- max\_score: 最大スコア（デフォルト: 100）  
\- difficulty\_level: 難易度（1-5）  
\- order\_number: 表示順序  
\- created\_at/updated\_at: タイムスタンプ  
\`\`\`

\#\#\#\# 5\. \*\*hints\*\* \- 学年別ヒント  
\`\`\`sql  
\- id: プライマリキー  
\- problem\_id: 対象問題（外部キー）  
\- grade: 対象学年（1-6）  
\- hint\_text: ヒント内容  
\- hint\_order: 表示順序  
\- created\_at/updated\_at: タイムスタンプ  
\`\`\`

\#\#\#\# 6\. \*\*submissions\*\* \- 最終提出記録  
\`\`\`sql  
\- id: プライマリキー  
\- user\_id: ユーザーID（外部キー）  
\- problem\_id: 問題ID（外部キー）  
\- is\_correct: 正解フラグ  
\- score: 獲得スコア  
\- total\_attempts: 総試行回数  
\- hint\_usage\_count: ヒント使用回数  
\- time\_spent: 所要時間（秒）  
\- final\_sb3\_data: 最終提出データ  
\- completed\_at: 完了日時  
\`\`\`

\#\#\#\# 7\. \*\*submission\_attempts\*\* \- 全試行履歴（研究用）  
\`\`\`sql  
\- id: プライマリキー  
\- user\_id: ユーザーID（外部キー）  
\- problem\_id: 問題ID（外部キー）  
\- attempt\_number: 試行回数  
\- attempted\_sb3\_data: 試行時データ  
\- is\_correct\_attempt: 正解フラグ  
\- error\_message: エラーメッセージ  
\- hint\_viewed: ヒント閲覧フラグ  
\- timestamp: タイムスタンプ

\#\# 📝 備考

本システムは大学の卒業研究プロジェクトとして開発中です。教育効果の測定と改善を目的として、学習履歴データを詳細に記録する設計となっています。  
開発時のログは必ず残すようにしてください。そのため開発環境のフォルダにLogファイルを作成し都度、記録を残すように日付と時間を記載したファイル名でログを記録していってください。

